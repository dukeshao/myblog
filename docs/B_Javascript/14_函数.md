---
title: JS 函数
date: 2015-10-02 23:18:33
tags: 
- Javascript
- 函数
categories: 
- B_Javascript
---

## 一、概念

函数就是把特定功能的代码抽取出并进行封装，用来重复执行一些功能。

## 二、优点

函数可以重复执行某一部分代码（通过函数名调用）；

使程序变得更简短而清晰；

有利于程序维护；

## 三、创建方式

#### a.关键字声明 

​	function 函数名(形参){执行的功能代码}

```js
fn(1,2);
function fn(a,b){
  return a+b;
}
```

特点：函数变量提升，可在函数声明前调用函数



#### b.赋值式声明 

​	var 函数名=function(形参){执行的功能代码} 

```js
console.log(fn);//undefined
var fn = function(a,b){
  return a+b;
}
console.log(fn);//ƒ (a,b){return a+b;}
```

特点：仅变量 fn 的声明提升，赋值为函数并未提升

#### c.构造函数法

​	 var 函数名=new Function();不推荐使用

```js
var fn = new Function();
```



## 四、分类

1	内置函数

2	自定义函数

3	匿名函数

function(形参){执行的功能代码} 

## 五、函数的执行

1	主动执行：

​	函数名()	

2	事件驱动：

​	ele.onclick=函数名;

​	ele.onclick=function(){}

## 六、作用域

（一）分类

### 1	全局作用域

全局变量：在函数外定义的变量称为全局变量

### 2	局部作用域

局部变量：在函数内定义的变量

### 3	变量的访问规则

​	(1)	若在某个函数内部使用一个变量，那么先查找该函数内是否有变量声明；

​	(2)	如果当前函数无变量a，则往父级函数查找，如果找到则使用，并停止查找；

​	(3)	如果在父级函数还是无法找到，则继续往上一层函数查找，以此类推；

​	(4)	直到最顶层(全局作用域)，如果还是没找到，则报错误** is not defined；

在函数内若没有通过var 声明变量，相当于在全局作用域用var 声明了该变量

### 4	作用域链

​	当函数访问变量时，根据就近原则从内到外查询变量，这个路径称为作用域链;

## 七、函数的实参与形参

1	形参：函数定义时的参数（变量）

2	实参：函数执行时的参数（值）

形参与实参个数可以不一致

函数内部隐藏的对象（是一个类数组），保存着实参的信息

一、声明提前

概念：代码从上往下顺序执行之前，会将所有的声明提升到当前作用域的最顶端，之后顺序执行

在变量赋值之前使用变量，变量的值为undefined

用赋值式声明函数，若在声明之前调用函数，会报错，** is not  a function；

用关键字声明函数，可以在声明之前调用函数

### 基本数据类型与引用数据类型的区别

```
基本数据类型放在栈中,引用数据类型放在堆中
```

### ①　案例：

```
var a=10;
var b=a;
b++;
console.log(a,b);//10,11

var arr=[1,2,3];
var brr=arr;
brr[1]=20;
console.log(arr===brr);//true
```

### ②　数据类型作为函数的参数

```
//基本数据类型,传递的是值
function numAdd(num){
    num++;
    console.log(num);//11
}

var a=10;
numAdd(a);
console.log(a);//10

//引用数据类型,传递的是地址
function numAdd(arr){
    arr[0]=10;
    console.log(arr);//[10,2]
}

var arr1=[1,2];
numAdd(arr1);
console.log(arr1);//10,2
```

## 八、函数的返回值

1	概念：通过return将函数内部的值返回到函数外，函数外若要使用，必须接收。

2	如果函数没有return，执行完后返回undefined

3	return 后面的代码不会被执行

## 九、this

1	表示当前对象，取决于谁调用了这个函数

2	直接执行，this 为window；事件驱动，this为绑定的元素。

## 十、递归

（自己调用自己）

1	容易出现死循环

2	递归避免死循环，设置好临界点return

## 十一、回调函数

（函数作为参数传递）
