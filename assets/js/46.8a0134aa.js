(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{521:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"拉取-mysql-镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拉取-mysql-镜像"}},[s._v("#")]),s._v(" 拉取 mysql 镜像")]),s._v(" "),a("p",[s._v("$开头的语句，表示执行的命令")]),s._v(" "),a("p",[s._v("查看版本 https://hub.docker.com/_/mysql?tab=tags")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ docker pull mysql:5.7\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行")]),s._v("\n$ docker run -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3316")]),s._v(":3306 --name mysql57 -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" -d mysql:5.7\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 说明：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -p 3316:3306 是把容器的3306端口映射到本机的3316端口")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# –name 是给运行的容器一个别名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -e MYSQL_ROOT_PASSWORD=123456 是初始化 MySQL 的密码")]),s._v("\n")])])]),a("h2",{attrs:{id:"设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置"}},[s._v("#")]),s._v(" 设置")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试")]),s._v("\n$ mysql -h127.0.0.1  -P "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3317")]),s._v(" -uroot -p123456\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 目前还不能成功执行，需要进入容器设置权限")]),s._v("\n$ docker "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it mysql57 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入容器后执行")]),s._v("\n$ mysql -uroot -p123456\nmysql: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Warning"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Using a password on the "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" line interface can be insecure.\nWelcome to the MySQL monitor.  Commands end with "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" or "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("g.\nYour MySQL connection "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" is "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nServer version: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),s._v(".26 MySQL Community Server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GPL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nCopyright "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(", Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'help;'")]),s._v(" or "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\h'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help. Type "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\c"}},[s._v("\\c")]),s._v("'")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),s._v(" the current input statement.\n\n$ mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("update mysql.user "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("host")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%"')]),s._v(" where "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n$ mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("flush privileges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("然后可以本机使用 navicat 连接测试，或者自行写 node 接口，本机使用 postman 调用测试。")]),s._v(" "),a("h2",{attrs:{id:"踩过的坑："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#踩过的坑："}},[s._v("#")]),s._v(" 踩过的坑：")]),s._v(" "),a("p",[s._v("1.本机 navicat 能够连接访问，但是调用 node 接口访问没有权限")]),s._v(" "),a("p",[s._v("2.还有很多安装过程中的坑，就没有一一记录了。")]),s._v(" "),a("p",[s._v("3.mysql@8.x 的默认加密方式不一样，在网上搜了很多解决方案，别人能成功的自己这里却不能，所以选择了安装低版本5.7的 mysql。暂时先这样吧，有时间再搞一个8版本的。")])])}),[],!1,null,null,null);t.default=e.exports}}]);