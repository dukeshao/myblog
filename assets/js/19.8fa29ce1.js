(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{527:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"gulp的安装及运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gulp的安装及运行"}},[s._v("#")]),s._v(" gulp的安装及运行")]),s._v(" "),a("p",[s._v("gulp是一种比较流行的自动化工具 ，可以自动化完成我们开发过程中大量的重复工作。如：")]),s._v(" "),a("blockquote",[a("p",[s._v("编译：\nless->css\nsass->css\ncoffeescript->js\nes6->es5(兼容)\n合并: css, js\n压缩 ：css, js, html\n优化：图片优化")])]),s._v(" "),a("ul",[a("li",[s._v("官网："),a("a",{attrs:{href:"http://gulpjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://gulpjs.com/"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("中文网："),a("a",{attrs:{href:"http://www.gulpjs.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.gulpjs.com.cn/"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"全局安装gulp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局安装gulp"}},[s._v("#")]),s._v(" 全局安装gulp")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install --global gulp    //全局安装gulp目的是为了通过它执行gulp任务\n")])])]),a("h2",{attrs:{id:"本地安装gulp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地安装gulp"}},[s._v("#")]),s._v(" 本地安装gulp")]),s._v(" "),a("p",[s._v("作为项目的开发依赖（devDependencies）安装：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install gulp //不会自动生成在package.json\nnpm install --save gulp\nnpm install --save-dev gulp //本地安装gulp是为了调用gulp插件的功能\n")])])]),a("ul",[a("li",[s._v("–save-dev 保存配置信息至 package.json 的 devDependencies 节点")]),s._v(" "),a("li",[s._v("这步操作前先新建package.json文件（npm init）")]),s._v(" "),a("li",[s._v("这步完成后就可以安装各种gulp插件了")])]),s._v(" "),a("h2",{attrs:{id:"安装gulp插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装gulp插件"}},[s._v("#")]),s._v(" 安装gulp插件")]),s._v(" "),a("p",[s._v("大部分插件都可以在"),a("code",[s._v("http://www.npmjs.com")]),s._v("找到，任何插件的使用都要经历以下三步：")]),s._v(" "),a("blockquote",[a("p",[s._v("安装插件npm install  gulp-htmlmin")])]),s._v(" "),a("p",[s._v("PS：可一次性安装多个插件，插件间用空格隔开")]),s._v(" "),a("h2",{attrs:{id:"创建gulpfile-js文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建gulpfile-js文件"}},[s._v("#")]),s._v(" 创建gulpfile.js文件")]),s._v(" "),a("ul",[a("li",[s._v("！！！项目根目录下 创建")]),s._v(" "),a("li",[s._v("gulp项目的配置文件，内容如下：")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var gulp = require('gulp');\ngulp.task('任务名', function() {\n  // 将你的默认的任务代码放在这\n});\n")])])]),a("h2",{attrs:{id:"gulp运行任务命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gulp运行任务命令"}},[s._v("#")]),s._v(" gulp运行任务命令")]),s._v(" "),a("p",[s._v("在命令行执行以下命名，如果不写任务名称，则自动运行default任务（如果有）")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("gulp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("任务名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("h2",{attrs:{id:"gulp工作流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gulp工作流程"}},[s._v("#")]),s._v(" gulp工作流程")]),s._v(" "),a("ol",[a("li",[s._v("选通过gulp.src(globs) 方法获取到想要处理的文件，并返回文件流")]),s._v(" "),a("li",[s._v("然后文件流通过 pipe 方法导入到 gulp 的插件中")]),s._v(" "),a("li",[s._v("经过插件处理后的文件流，再通过pipe方法导入到 gulp.dest() 方法中")]),s._v(" "),a("li",[s._v("最后通过gulp.dest() 方法把流中的内容写入到文件中")])]),s._v(" "),a("blockquote",[a("p",[s._v("PS：文件流=>文件在内存中的状态")])]),s._v(" "),a("p",[s._v("5.监听文件修改，并执行相应任务gulp.watch(glob,[‘任务名’])")]),s._v(" "),a("h2",{attrs:{id:"globs语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#globs语法"}},[s._v("#")]),s._v(" globs语法")]),s._v(" "),a("p",[s._v("globs需要处理的源文件匹配符路径，语法如下")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("匹配单个文件：\n"),a("code",[s._v("gulp.src('src/js/index.js')")])])]),s._v(" "),a("li",[a("p",[s._v("匹配多个文件：\n"),a("code",[s._v("gulp.src(['src/js/index.js','src/js/detail.js']) //多个文件以数组形式传入")])])]),s._v(" "),a("li",[a("p",[s._v("匹配所有文件\n"),a("code",[s._v("gulp.src('src/js/*.js')")])])]),s._v(" "),a("li",[a("p",[s._v("匹配符"),a("code",[s._v("!")]),s._v("：排除文件，")])])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('  gulp.src(["./src/sass/**/*.scss","!./src/sass/var.scss"])\n')])])]),a("p",[a("code",[s._v("*")]),s._v("：匹配所有文件，\n"),a("code",[s._v("**")]),s._v("：匹配0个或多个子文件夹，\n"),a("code",[s._v("{}")]),s._v("：匹配多个属性")]),s._v(" "),a("ul",[a("li",[s._v("不受匹配控制: 在文件名前面加下划线"),a("code",[s._v("_")])])]),s._v(" "),a("h1",{attrs:{id:"gulp常用插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gulp常用插件"}},[s._v("#")]),s._v(" gulp常用插件")]),s._v(" "),a("blockquote",[a("p",[s._v("html压缩：gulp-htmlmin")]),s._v(" "),a("p",[s._v("css压缩：gulp-clean-css")]),s._v(" "),a("p",[s._v("js压缩：gulp-uglify")]),s._v(" "),a("p",[s._v("合并文件：gulp-concat")]),s._v(" "),a("p",[s._v("文件重命名：gulp-rename")]),s._v(" "),a("p",[s._v("编译Sass: gulp-sass")]),s._v(" "),a("p",[s._v("编译 Less：gulp-less")])]),s._v(" "),a("h2",{attrs:{id:"编译scss为css"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译scss为css"}},[s._v("#")]),s._v(" 编译scss为css")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//1.安装gulp-sass插件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//2.gulpfile.js:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//(1)引包：require()：返回对象或者函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" gulp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'gulp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//得到对象")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" sass "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'gulp-sass'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//得到函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//(2)创建任务")]),s._v("\ngulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'compileSass'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// （3）执行gulp工作流程")]),s._v("\n\tgulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("src")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/sass/*.scss'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 返回文件流（液体，文件在内存中的状态）")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("outputStyle"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'expanded'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("logError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("gulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/css/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*outputStyle参数（gulp-sass）：\n    nested(默认）\n    expanded: 展开\n    compact: 单行\n    compressed: 压缩\non('error', sass.logError)：忽略错误，继续编译*/")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//监听scss文件，自动编译")]),s._v("\ngulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jtSass'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tgulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("watch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/sass/*.scss'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'compileSass'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h2",{attrs:{id:"js压缩及合并、重命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js压缩及合并、重命名"}},[s._v("#")]),s._v(" js压缩及合并、重命名")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("// js压缩\nlet uglify = require('gulp-uglify');\nlet pump = require('pump');\nlet concat = require('gulp-concat');\nlet rename = require('gulp-rename');\ngulp.task('compressJs',function(cb){\n    pump([\n        gulp.src('./src/js/*.js'),\n        // 合并\n        concat('index.js'),\n        gulp.dest('./dist/js/'),\n        // 压缩\n        uglify(),\n        // 重命名\n        rename({\n            suffix:'.min'\n        }),\n        gulp.dest('dist/js/')\n    ],cb );\n});    \n")])])]),a("h2",{attrs:{id:"es6转es5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es6转es5"}},[s._v("#")]),s._v(" ES6转ES5")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("gulp.task('es6',function(){\n\tgulp.src('src/js/demo.js')\n\t.pipe(babel({\n\t\t'presets':['es2015']\n\t}))\n\t.pipe(gulp.dest('dist/es5'));\n});\n")])])]),a("h2",{attrs:{id:"静态服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#静态服务器"}},[s._v("#")]),s._v(" 静态服务器")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("var browserSync = require(\"browser-sync\");\n// 静态服务器\ngulp.task('server',()=>{\n\tbrowserSync({\n\t\t// 服务器路径\n\t\t// server:'./src/',\n\t\t// 代理服务器，必须绑定到当前服务器路径一致\n\t\tproxy:'http://localhost:1806',\n\t\t// 端口\n\t\tport:666,\n\t\t// 监听文件修改，自动刷新\n\t\tfiles:['./src/**/*.html','./src/css/*.css','./src/api/*.php']\n\t});\n\t// 监听sass文件修改，并自动编译\n\tgulp.watch('./src/sass/*.scss',['compileSass'])\t\n}）\n//监听的文件修改，页面html对应修改。通过brower-sync服务只能看到页面修改\n")])])]),a("p",[s._v("静态服务器：开启服务，不能识别后端语言.")]),s._v(" "),a("p",[s._v("wampserver:apache服务器  php解析器  mysql服务器")]),s._v(" "),a("h2",{attrs:{id:"创建node服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建node服务器"}},[s._v("#")]),s._v(" 创建node服务器")]),s._v(" "),a("p",[s._v("http-server")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\n")])])]),a("h1",{attrs:{id:"package-json文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#package-json文件"}},[s._v("#")]),s._v(" package.json文件")]),s._v(" "),a("p",[s._v("1.生成package.json文件：npm init")]),s._v(" "),a("p",[s._v("2.是什么？项目要依赖的所有包的信息")]),s._v(" "),a("p",[s._v("3.通过package.json下载包含的所有包")]),s._v(" "),a("p",[s._v("​\tnpm install ==>dependencies、devDependencies都会帮你下载")]),s._v(" "),a("p",[s._v("​\tnpm install --production ==>只会下载devDependencies下面的包")]),s._v(" "),a("p",[s._v("详细剖析：")]),s._v(" "),a("p",[s._v("dependencies{")]),s._v(" "),a("p",[s._v("​\tgulp-htmlmin//")]),s._v(" "),a("p",[s._v("​\tnpm install --save gulp")]),s._v(" "),a("p",[s._v("devDependencies{} //上线目录需要用到哪些包")]),s._v(" "),a("p",[s._v("​\tnpm install --save-dev gulp")])])}),[],!1,null,null,null);t.default=e.exports}}]);